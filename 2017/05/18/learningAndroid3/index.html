<!DOCTYPE html>


  <html class="light page-post">


<head>
  <meta charset="utf-8">
  
  <title>Android 学习之路--android基础(三) | Talent•C</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
    <meta name="keywords" content="Android Studio,android," />
  

  <meta name="description" content="作者Talent•C转载请注明出处 前言上一篇文章我们介绍了 活动(Activity) 的作用及相关用法,我们知道活动是用来给用户展示 UI界面 的,那么在Android中都有哪些UI控件呢?今天就让我们来简单学习几种常见的 UI控件。 如何编写UI界面?Android Studio中为我们提供两种UI界面的编辑方式, 第一种是通过Android Studio 提供的UI可视化的编辑器直接将控件拖">
<meta name="keywords" content="Android Studio,android">
<meta property="og:type" content="article">
<meta property="og:title" content="Android 学习之路--android基础(三)">
<meta property="og:url" content="http://yoursite.com/2017/05/18/learningAndroid3/index.html">
<meta property="og:site_name" content="Talent•C">
<meta property="og:description" content="作者Talent•C转载请注明出处 前言上一篇文章我们介绍了 活动(Activity) 的作用及相关用法,我们知道活动是用来给用户展示 UI界面 的,那么在Android中都有哪些UI控件呢?今天就让我们来简单学习几种常见的 UI控件。 如何编写UI界面?Android Studio中为我们提供两种UI界面的编辑方式, 第一种是通过Android Studio 提供的UI可视化的编辑器直接将控件拖">
<meta property="og:updated_time" content="2017-05-18T12:01:24.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Android 学习之路--android基础(三)">
<meta name="twitter:description" content="作者Talent•C转载请注明出处 前言上一篇文章我们介绍了 活动(Activity) 的作用及相关用法,我们知道活动是用来给用户展示 UI界面 的,那么在Android中都有哪些UI控件呢?今天就让我们来简单学习几种常见的 UI控件。 如何编写UI界面?Android Studio中为我们提供两种UI界面的编辑方式, 第一种是通过Android Studio 提供的UI可视化的编辑器直接将控件拖">

  

  
    <link rel="icon" href="/images/favicon.ico">
  

  <link href="/css/styles.css?v=c114cbe6" rel="stylesheet">


  
    <link rel="stylesheet" href="/css/personal-style.css">
  

  

  
  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?910a0dcd613da531acd126e48789c447";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>


  
  <script type="text/javascript">
	(function(){
	    var bp = document.createElement('script');
	    var curProtocol = window.location.protocol.split(':')[0];
	    if (curProtocol === 'https') {
	        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
	    }
	    else {
	        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
	    }
	    var s = document.getElementsByTagName("script")[0];
	    s.parentNode.insertBefore(bp, s);
	})();
  </script>



  
    <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  

  
    <link rel="stylesheet" href="http://cdn.bootcss.com/font-awesome/4.3.0/css/font-awesome.min.css">
  

  
    <meta name="baidu-site-verification" content="0s4hqyL3fb" />
  
  

</head>

<body>


  
    <span id="toolbox-mobile" class="toolbox-mobile">盒子</span>
  

  <div class="post-header CENTER">
   
  <div class="toolbox">
    <a class="toolbox-entry" href="/">
      <span class="toolbox-entry-text">盒子</span>
      <i class="icon-angle-down"></i>
      <i class="icon-home"></i>
    </a>
    <ul class="list-toolbox">
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/archives/"
            rel="noopener noreferrer"
            target="_self"
            >
            博客
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/link/"
            rel="noopener noreferrer"
            target="_self"
            >
            友链
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/about/"
            rel="noopener noreferrer"
            target="_self"
            >
            关于
          </a>
        </li>
      
    </ul>
  </div>


</div>


  <div id="toc" class="toc-article">
    <strong class="toc-title">文章目录</strong>
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#前言"><span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#如何编写UI界面"><span class="toc-text">如何编写UI界面?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TextView的使用"><span class="toc-text">TextView的使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Button的使用"><span class="toc-text">Button的使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#EditText的使用"><span class="toc-text">EditText的使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ImageView的使用"><span class="toc-text">ImageView的使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ProgressBar的使用"><span class="toc-text">ProgressBar的使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AlertDialog的使用"><span class="toc-text">AlertDialog的使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#总结"><span class="toc-text">总结</span></a></li></ol>
  </div>



<div class="content content-post CENTER">
   <article id="post-learningAndroid3" class="article article-type-post" itemprop="blogPost">
  <header class="article-header">
    <h1 class="post-title">Android 学习之路--android基础(三)</h1>

    <div class="article-meta">
      <span>
        <i class="icon-calendar"></i>
        <span>2017.05.18</span>
      </span>

      
        <span class="article-author">
          <i class="icon-user"></i>
          <span>Talent•C</span>
        </span>
      

      


      

      
      <i class="fa fa-eye"></i> 
        <span id="busuanzi_container_page_pv">
           &nbsp热度 <span id="busuanzi_value_page_pv">
           <i class="fa fa-spinner fa-spin"></i></span>℃
        </span>
      

      
      
    </div>
  </header>

  <div class="article-content">
    
      <p>作者<a href="https://chuliangliang.github.io" target="_blank" rel="external">Talent•C</a><br>转载请注明出处</p>
<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>上一篇文章我们介绍了 <strong>活动(Activity)</strong> 的作用及相关用法,我们知道活动是用来给用户展示 <strong>UI界面</strong> 的,那么在<code>Android</code>中都有哪些UI控件呢?今天就让我们来简单学习几种常见的 <strong>UI控件</strong>。</p>
<h2 id="如何编写UI界面"><a href="#如何编写UI界面" class="headerlink" title="如何编写UI界面?"></a>如何编写UI界面?</h2><p><code>Android Studio</code>中为我们提供两种UI界面的编辑方式, 第一种是通过<code>Android Studio</code> 提供的UI可视化的编辑器直接将控件拖入到预览区域即可;第二种是通过 <strong>XML代码</strong> 实现UI界面,等你完全掌握了使用 <strong>XML</strong> 来编写界面的方法后,不管是进行高度复杂的界面实现,还是分析和修改当前现有界面,对你来说都是手到擒来。<br>我们今天都以 <strong>XML</strong> 的方式创建控件,我们以几个比较常用的控件做演示。</p>
<h2 id="TextView的使用"><a href="#TextView的使用" class="headerlink" title="TextView的使用"></a>TextView的使用</h2><p><strong>TextView</strong>,在屏幕上显示一段文字信息。它与<code>OC</code>中的 <strong>UILabel</strong> 作用一样,显示一段文字;但是它比 <strong>UILabel</strong> 更加灵活,<strong>TextView</strong> 可以自动显示几种超链接形式的文本,比如 <strong>电话,E-mail,网址</strong> 等,也可以自定义哪些文字可以点击并可以触发对应事件。<br><strong>(1)显示普通文本</strong><br>我们创建一个活动并在活动的布局文件中编辑UI界面<br>代码示例:一个活动的布局文件<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</div><div class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></div><div class="line">    <span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span></div><div class="line">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></div><div class="line">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></div><div class="line">    <span class="attr">android:orientation</span>=<span class="string">"vertical"</span>&gt;</div><div class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></div><div class="line">        <span class="attr">android:id</span>=<span class="string">"@+id/textView"</span></div><div class="line">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></div><div class="line">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></div><div class="line">        <span class="attr">android:text</span>=<span class="string">"普通文字显示"</span></div><div class="line">        <span class="attr">android:gravity</span>=<span class="string">"center"</span></div><div class="line">        <span class="attr">android:textSize</span>=<span class="string">"25sp"</span></div><div class="line">        <span class="attr">android:background</span>=<span class="string">"#cfcccc"</span></div><div class="line">    /&gt;</div><div class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p><code>&lt;TextView&gt;</code>标签之前的属于布局文件的相关配置信息这些后面再细说,在TextView中我们使用了<code>android:id</code>给当前控件定义了一个唯一标识符,然后使用 <code>android:layout_width</code>与<code>android:layout_height</code>指定控件宽高。<code>Android</code>中所有的控件都有这两个属性,这两个属性为布局属性后面我们在讲解布局的时候会详细介绍,可选值有三种: <code>match_parent</code> 、 <code>fill_parent</code> 和 <code>wrap_content</code>。其中 <code>match_parent</code>与<code>fill_parent</code>意义相同,现在官方比较推荐我们使用<code>match_parent</code>,<code>match_parent</code>表示让当前控件的大小与父布局一样大小,也就是由父布局决定当前控件的大小。 <code>wrap_content</code>表示让控件的大小刚好能够包含里面的内容,也就是当前控件的大小由其内容决定;所以上面的控件宽度与手机屏幕宽度一致,高度与内容高度一致。</p>
<p>控件显示的文字内容为”普通文字显示”,文字大小使用<code>android:textSize</code>属性设置单位使用 <strong>sp</strong>,文字居中方式使用<code>android:gravity</code>属性决定,多个属性可以使用 <strong>“|”</strong> 连接, 如 <strong>android:gravity=”center”</strong> 等价于  <strong>android:gravity=”center_horizontal|center_vertical”</strong>,更多属性请查阅 <strong>API</strong>。<br>运行程序会在屏幕顶部显示一个这个控件了。</p>
<p><strong>(2)显示自动识别的超链接</strong><br>TextView控件自动匹配超链接模式默认是不匹配的,我们需要通过<code>android:autoLink</code>开启,有六种可以选择 <strong>none(默认)</strong> 、<strong>all</strong> 、<strong>phone</strong> 、<strong>email</strong> 、<strong>map</strong> 和 <strong>web</strong>。我们这里选择 <strong>all</strong> 全部启用。<br>代码示例:我们在创建一个<code>TextView</code><br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">TextView</span></span></div><div class="line">  <span class="attr">android:id</span>=<span class="string">"@+id/textView_link"</span></div><div class="line">  <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></div><div class="line">  <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></div><div class="line">  <span class="attr">android:gravity</span>=<span class="string">"center_vertical"</span></div><div class="line">  <span class="attr">android:textSize</span>=<span class="string">"25sp"</span></div><div class="line">  <span class="attr">android:text</span>=<span class="string">"带有电话:123456780 email:123@qq.com 网址:http://www.chuliangliang.com"</span></div><div class="line">  <span class="attr">android:autoLink</span>=<span class="string">"all"</span></div><div class="line">  <span class="attr">android:layout_marginTop</span>=<span class="string">"20dp"</span></div><div class="line">  <span class="attr">android:background</span>=<span class="string">"#fae017"</span></div><div class="line">  <span class="attr">android:textColor</span>=<span class="string">"#222"</span></div><div class="line">  <span class="attr">android:linksClickable</span>=<span class="string">"true"</span></div><div class="line">  /&gt;</div></pre></td></tr></table></figure></p>
<p>运行程序,我们可以看到电话号、邮箱、网址均变成了可以点击了,点击对应区域就出触发对应事件, 如点击电话号码 就会调出拨打电话的界面,点击网页链接就会打开浏览器加载网页,是不是很方便啊。</p>
<p><strong>(3)自定可点击文字</strong><br>在实际开发中可能上诉的两种文字显示方式并不能满足开发需求,比如某些功能要求我们点击一段汉字或一段字母也能触发事件,这时就需要我们自定义可点击文字了,废话不多说直接上代码。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">TextView</span></span></div><div class="line">  <span class="attr">android:id</span>=<span class="string">"@+id/textView_customLink"</span></div><div class="line">  <span class="attr">android:textColor</span>=<span class="string">"#fff"</span></div><div class="line">  <span class="attr">android:text</span>=<span class="string">"自定义文字链接:我是链接一, 链接二: 我是链接二"</span></div><div class="line">  <span class="attr">android:textSize</span>=<span class="string">"20sp"</span></div><div class="line">  <span class="attr">android:layout_marginTop</span>=<span class="string">"20dp"</span></div><div class="line">  <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></div><div class="line">  <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></div><div class="line">  <span class="attr">android:gravity</span>=<span class="string">"center_vertical"</span></div><div class="line">  <span class="attr">android:background</span>=<span class="string">"#f16a48"</span></div><div class="line">  /&gt;</div></pre></td></tr></table></figure></p>
<p>我们想将上述控件中的 “我是链接一” 和 “我是链接二” 这两段文字可以响应点击事件,光靠布局文件中这几行文字是做不到,我们需要相应的<code>Java</code>代码配合才可以。我们来看看这个文件对应的活动中如何添加相关代码。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div></pre></td><td class="code"><pre><div class="line">   <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String TAG = <span class="string">"ActivityForTextView"</span>;</div><div class="line">   <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String CUSTOM_linkString = <span class="string">"自定义文字链接:我是链接一, 链接二: 我是链接二"</span>;</div><div class="line">   <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String CUSTOM_link1 = <span class="string">"我是链接一"</span>;</div><div class="line">   <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String CUSTOM_link2 = <span class="string">"我是链接二"</span>;</div><div class="line"><span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</div><div class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</div><div class="line">        setContentView(R.layout.activity_textview_layout);</div><div class="line">        <span class="comment">//自定义文本点击事件</span></div><div class="line">        TextView tView = (TextView) findViewById(R.id.textView_customLink);</div><div class="line">        <span class="keyword">this</span>.doInitForlinkTextView(tView);</div><div class="line">    &#125;</div><div class="line">    <span class="comment">//设置textView显示文字及可点击文字区域等</span></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">doInitForlinkTextView</span><span class="params">(TextView textView)</span></span></div><div class="line">    &#123;</div><div class="line">        ClickableSpan clickableSpan = <span class="keyword">new</span> ClickableSpan() &#123;</div><div class="line">            <span class="meta">@Override</span></div><div class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View widget)</span> </span>&#123;</div><div class="line">                <span class="keyword">if</span> (widget <span class="keyword">instanceof</span> TextView) &#123;</div><div class="line">                    link1OnClick();</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;;</div><div class="line">        ClickableSpan clickableSpanForServer = <span class="keyword">new</span> ClickableSpan() &#123;</div><div class="line">            <span class="meta">@Override</span></div><div class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View widget)</span> </span>&#123;</div><div class="line">                <span class="keyword">if</span> (widget <span class="keyword">instanceof</span> TextView) &#123;</div><div class="line">                    link2OnClick();</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;;</div><div class="line">        <span class="comment">//第一个点击区域的文字开始与结束</span></div><div class="line">        <span class="keyword">int</span> link1StingStart = CUSTOM_linkString.indexOf(CUSTOM_link1);</div><div class="line">        <span class="keyword">int</span> link1StingEnd =  link1StingStart+CUSTOM_link1.length();</div><div class="line">        <span class="comment">//第二个点击区域的文字开始与结束</span></div><div class="line">        <span class="keyword">int</span> link2StingStart = CUSTOM_linkString.indexOf(CUSTOM_link2);</div><div class="line">        <span class="keyword">int</span> link2StingEnd =  link2StingStart+CUSTOM_link2.length();</div><div class="line">        SpannableString sp = <span class="keyword">new</span> SpannableString(CUSTOM_linkString);</div><div class="line">        sp.setSpan(clickableSpan, link1StingStart, link1StingEnd, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);</div><div class="line">        sp.setSpan(clickableSpanForServer, link2StingStart, link2StingEnd, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);</div><div class="line">        textView.setText(sp);</div><div class="line">        textView.setLinkTextColor(Color.GRAY);</div><div class="line">        textView.setMovementMethod(LinkMovementMethod.getInstance());</div><div class="line">        textView.setFocusable(<span class="keyword">false</span>);</div><div class="line">        textView.setClickable(<span class="keyword">false</span>);</div><div class="line">        textView.setLongClickable(<span class="keyword">false</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="comment">//link1文本点击事件</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">link1OnClick</span><span class="params">()</span></span></div><div class="line">    &#123;</div><div class="line">        Log.d(TAG,CUSTOM_link1 + <span class="string">"点击事件"</span>);</div><div class="line">        <span class="keyword">this</span>.toast(CUSTOM_link1 + <span class="string">"点击事件"</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="comment">//link2文本点击事件</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">link2OnClick</span><span class="params">()</span></span></div><div class="line">    &#123;</div><div class="line">        Log.d(TAG,CUSTOM_link2 + <span class="string">"点击事件"</span>);</div><div class="line">        <span class="keyword">this</span>.toast(CUSTOM_link2 + <span class="string">"点击事件"</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="comment">//封装的toast提示方法</span></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">toast</span><span class="params">(String str)</span></span></div><div class="line">    &#123;</div><div class="line">        Toast.makeText(<span class="keyword">this</span>, str, Toast.LENGTH_SHORT).show();</div><div class="line">    &#125;</div></pre></td></tr></table></figure></p>
<p>我们在活动的内部定义三个常量, <strong>CUSTOM_linkString</strong>  <strong>CUSTOM_link1</strong> 和 <strong>CUSTOM_link2</strong>, <strong>CUSTOM_linkString</strong> 是整个文字区域的完整文字, <strong>CUSTOM_link1</strong> 需要设置可以点击的第一段文字, <strong>CUSTOM_link2</strong> 需要设置可以点击的第二段文字,分别查找这两段文字在全部文字内容中的位置信息, 然后将按照位置信息设置点击事件回调方法。</p>
<h2 id="Button的使用"><a href="#Button的使用" class="headerlink" title="Button的使用"></a>Button的使用</h2><p>关于<code>Button</code>的用法我们很早就接触过了,之前我们都是通过<code>Java</code>代码为<code>Button</code>设置点击事件的,今天我们来看看如何在布局文件中设置点击事件。<br>不管在哪里设置<code>Button</code>的点击事件,这个事件的回调方法肯定是<code>Java</code>代码,那么这个<code>Java</code>代码写在哪里呢?当然写在活动里。<br>活动中的代码示例:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">/演示textView按钮点击事件</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">btn_TextView</span><span class="params">(View view)</span></span></div><div class="line">&#123;</div><div class="line">  <span class="comment">//在这里接收按钮的点击事件</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>在活动的对应布局文件中如下设置<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">Button</span></span></div><div class="line">  <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></div><div class="line">  <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></div><div class="line">  <span class="attr">android:id</span>=<span class="string">"@+id/button_textView"</span></div><div class="line">  <span class="attr">android:text</span>=<span class="string">"演示TextView(文本显示控件)"</span></div><div class="line">  <span class="attr">android:textAllCaps</span>=<span class="string">"false"</span></div><div class="line">  <span class="attr">android:onClick</span>=<span class="string">"btn_TextView"</span>  //设置按钮点击事件回调</div><div class="line">  /&gt;</div></pre></td></tr></table></figure></p>
<p>按钮点事件回调的方法要满足如下规则:</p>
<ul>
<li>方法必须使用 <strong>public</strong> 修饰。</li>
<li>方法返回值必须是 <strong>void</strong>。</li>
<li>方法中含有参数,参数类型为 <strong>View</strong> 型。</li>
</ul>
<h2 id="EditText的使用"><a href="#EditText的使用" class="headerlink" title="EditText的使用"></a>EditText的使用</h2><p><code>EditText</code>是程序与用户进行交互的另一个重要控件,它允许用户在控件里输入和编辑内容,并可以在程序中对这些内容做一些处理,如QQ或者微信聊天的文字输入框都有它的身影。<br>同样也是可以在布局文件创建,代码示例:<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">EditText</span></span></div><div class="line">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></div><div class="line">    <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></div><div class="line">    <span class="attr">android:id</span>=<span class="string">"@+id/editView1"</span></div><div class="line">    <span class="attr">android:hint</span>=<span class="string">"输入点文字吧~~"</span></div><div class="line">    <span class="attr">android:maxLines</span>=<span class="string">"2"</span>/&gt;</div></pre></td></tr></table></figure></p>
<p><code>android:hint</code>属性默认提示的文字,当输入框中没有文字时会显示此文字,如果用户输入了文字,则不会显示此文字;<code>android:maxLines</code>,设置输入框中最多可以同时展示多少行文字,如上设置为2行,也就是输入框外观高度为两行文字的高度,当输入第三行及以上时, 内部的文字可以上下滚动。更多属性参考API。</p>
<h2 id="ImageView的使用"><a href="#ImageView的使用" class="headerlink" title="ImageView的使用"></a>ImageView的使用</h2><p><code>ImageView</code>是用于在界面上展示图片的一种控件,学习这个控件之前我们先来回忆一下 <strong>drawable</strong> 这个文件夹的作用,这个文件是用来保存程序中使用到的图片资源的,在其内部又可分为多个文件夹,代表同一张图片在不同分辨率的手机的对应的图片资源,这里我们只是用一种图片演示了。<br>首先我们将一张图片放入 <strong>drawable</strong> 文件夹下,命名为 “talentImage.png”。<br>创建<code>ImageView</code>代码示例:<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">ImageView</span></span></div><div class="line">  <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></div><div class="line">  <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></div><div class="line">  <span class="attr">android:id</span>=<span class="string">"@+id/imgView_id"</span></div><div class="line">  <span class="attr">android:src</span>=<span class="string">"@drawable/talentImage"</span></div><div class="line">  /&gt;</div></pre></td></tr></table></figure></p>
<p><strong>XML</strong> 中通过<code>android:src</code>为ImageView控件填充图片,在<code>Java</code>代码中可以通过<code>setImageResource()</code>设置图片,图片控件的简单使用就介绍这么多吧,大家可以查看<code>ImageView</code>这类的API中的其他功能。</p>
<h2 id="ProgressBar的使用"><a href="#ProgressBar的使用" class="headerlink" title="ProgressBar的使用"></a>ProgressBar的使用</h2><p><code>ProgressBar</code>有很多样式, 如半环形不停的转圈, 条形带有进度的样式等等。</p>
<p>半环形,类似于<code>OC</code>中的<code>UIActivityIndicatorView</code>控件。<br>代码示例:<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">ProgressBar</span></span></div><div class="line">  <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></div><div class="line">  <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></div><div class="line">  <span class="attr">android:id</span>=<span class="string">"@+id/progressView"</span></div><div class="line">/&gt;</div></pre></td></tr></table></figure></p>
<p>运行程序你会发现这个指示器永远不消失,那么如何让它消失呢?我们可以通过修改<code>android:visibility</code>属性的值来控制其显示/隐藏,<code>Android</code>中所有UI控件都有此属性,此属性有三个值可以选择: <strong>visible</strong> 、<strong>invisible</strong> 和 <strong>gone</strong>。<strong>visible</strong> 表示控件是可见的,这个属性值是默认的,不指定<code>android:visibility</code>属性时,控件都是可见的。<strong>invisible</strong> 表示控件不可见,但是它仍然会占据着原来的位置和大小,可以理解成控件变成透明状态了。<strong>gone</strong> 表示控件不仅不可见,而且不再占用任何屏幕空间。我们还可以用过代码调用<code>setVisibility()</code>方法,传入值 <strong>View.VISIBLIE</strong> 、<strong>View.INVISIBLE</strong> 和 <strong>View.GONE</strong> 这三个值。</p>
<p>条形进度条,类似于<code>OC</code>中的<code>UIProgressView</code>类似。<br>示例代码<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">ProgressBar</span></span></div><div class="line">  <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></div><div class="line">  <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></div><div class="line">  <span class="attr">android:id</span>=<span class="string">"@+id/progressView_h"</span></div><div class="line">  <span class="attr">android:progressTint</span>=<span class="string">"#0ce743"</span></div><div class="line">  <span class="attr">style</span>=<span class="string">"?android:attr/progressBarStyleHorizontal"</span></div><div class="line">  <span class="attr">android:maxHeight</span>=<span class="string">"100dp"</span></div><div class="line">  <span class="attr">android:max</span>=<span class="string">"100"</span></div><div class="line">  <span class="attr">android:progress</span>=<span class="string">"50"</span></div><div class="line">  /&gt;</div></pre></td></tr></table></figure></p>
<p>通过<code>style=&quot;?android:attr/progressBarStyleHorizontal&quot;</code>可以设置<code>ProgressBar</code>外观样式,通过<code>android:progress</code>属性设置进度。</p>
<h2 id="AlertDialog的使用"><a href="#AlertDialog的使用" class="headerlink" title="AlertDialog的使用"></a>AlertDialog的使用</h2><p><code>AlertDialog</code>可以在当前的界面弹出一个对话框,这个对话框是置顶于所有界面元素之上的,能够屏蔽掉其他控件的交互能力,因此<code>AlertDialog</code>一般用于一些非常重要的内容或者警告信息,比如防止用户误删重要信息。<br>代码示例: 在一个按钮点击事件中弹出一个<code>AlertDialog</code>控件<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//弹出AlertDialog</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">btn_AlertDialog</span><span class="params">(View view)</span></span></div><div class="line">    &#123;</div><div class="line">      <span class="comment">//初始化AlertDialog 控件</span></div><div class="line">        AlertDialog.Builder dialog  = <span class="keyword">new</span> AlertDialog.Builder(HomeActivity.<span class="keyword">this</span>);</div><div class="line">        dialog.setTitle(<span class="string">"alert 标题"</span>);</div><div class="line">        dialog.setMessage(<span class="string">"我是消息内容"</span>);</div><div class="line">        dialog.setCancelable(<span class="keyword">false</span>);  <span class="comment">//是否可以通过点击空白区域或者back键取消alert</span></div><div class="line">        dialog.setPositiveButton(<span class="string">"OK"</span>, <span class="keyword">new</span> DialogInterface.OnClickListener() &#123;</div><div class="line">            <span class="meta">@Override</span></div><div class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(DialogInterface dialog, <span class="keyword">int</span> which)</span> </span>&#123;</div><div class="line">                Toast.makeText(HomeActivity.<span class="keyword">this</span>, <span class="string">"您点击了 ok 按钮"</span>, Toast.LENGTH_SHORT).show();</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">        dialog.setNegativeButton(<span class="string">"Cancel"</span>, <span class="keyword">new</span> DialogInterface.OnClickListener() &#123;</div><div class="line">            <span class="meta">@Override</span></div><div class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(DialogInterface dialog, <span class="keyword">int</span> which)</span> </span>&#123;</div><div class="line">                Toast.makeText(HomeActivity.<span class="keyword">this</span>, <span class="string">"您点击了 Cancel 按钮"</span>, Toast.LENGTH_SHORT).show();</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">        dialog.setNeutralButton(<span class="string">"稍后"</span>, <span class="keyword">new</span> DialogInterface.OnClickListener() &#123;</div><div class="line">            <span class="meta">@Override</span></div><div class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(DialogInterface dialog, <span class="keyword">int</span> which)</span> </span>&#123;</div><div class="line">                Toast.makeText(HomeActivity.<span class="keyword">this</span>, <span class="string">"您点击了 稍后 按钮"</span>, Toast.LENGTH_SHORT).show();</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">        dialog.show();</div><div class="line">    &#125;</div></pre></td></tr></table></figure></p>
<p>第二种样式,在内容区域前增加一个环形指示器<br>代码示例:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span>  <span class="keyword">void</span> <span class="title">btn_progressDialog</span><span class="params">(View view)</span></span></div><div class="line">&#123;</div><div class="line">  ProgressDialog pd = <span class="keyword">new</span> ProgressDialog(HomeActivity.<span class="keyword">this</span>);</div><div class="line">  pd.setTitle(<span class="string">"带有菊花的Alert标题"</span>);</div><div class="line">  pd.setMessage(<span class="string">"loading....(带有菊花的文字消息内容)"</span>);</div><div class="line">  pd.setCancelable(<span class="keyword">true</span>); <span class="comment">//是否可以通过点击空白区域或者back键取消alert</span></div><div class="line">  pd.show();</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>好了,关于<code>Android</code>中常用的控件就介绍这么多吧,每个控件都介绍一遍不太现实,不过这些控件在使用上都大体相同,感兴趣的同学可以自己尝试一下,做到举一反三。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>今天的东西比较零散,相对来说每个控件都只介绍了基础用法。正所谓师父领进门,修行在个人,大家有时间可以自己去探究更详细的用法。</p>
<p>本文使用到 <a href="https://github.com/chuliangliang/StudyUI-for-android" target="_blank" rel="external">工程代码 下载</a></p>

    
  </div>
</article>


   
  <div class="text-center donation">
    <div class="inner-donation">
      <span class="btn-donation">支持一下</span>
      <div class="donation-body">
        <div class="tip text-center">扫一扫，支持Talent•C</div>
        <ul class="theme.donation.items.length">
        
          <li class="item">
            <img src="/images/qr-wechat.jpg" alt="">
          </li>
        
          <li class="item">
            <img src="/images/qr-alipay.jpg" alt="">
          </li>
        
        </ul>
      </div>
    </div>
  </div>


   
  <div class="box-prev-next clearfix">
    <a class="show pull-left" href="/2017/05/15/learningAndroid2/">
        <i class="icon icon-angle-left"></i>
    </a>
    <a class="show pull-right" href="/2017/05/19/learningAndroid4/">
        <i class="icon icon-angle-right"></i>
    </a>
  </div>




</div>


  <a id="backTop" class="back-top">
    <i class="icon-angle-up"></i>
  </a>




  <div class="modal" id="modal">
  <span id="cover" class="cover hide"></span>
  <div id="modal-dialog" class="modal-dialog hide-dialog">
    <div class="modal-header">
      <span id="close" class="btn-close">关闭</span>
    </div>
    <hr>
    <div class="modal-body">
      <ul class="list-toolbox">
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/archives/"
              rel="noopener noreferrer"
              target="_self"
              >
              博客
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/link/"
              rel="noopener noreferrer"
              target="_self"
              >
              友链
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/about/"
              rel="noopener noreferrer"
              target="_self"
              >
              关于
            </a>
          </li>
        
      </ul>

    </div>
  </div>
</div>



  
      <div class="fexo-comments comments-post">
    

    




    

    

    
  <!-- 来必力City版安装代码 -->
  <div id="lv-container" data-id="city" data-uid= MTAyMC8yOTk2NS82NTMw>
  	<script type="text/javascript">
     (function(d, s) {
         var j, e = d.getElementsByTagName(s)[0];

         if (typeof LivereTower === 'function') { return; }

         j = d.createElement(s);
         j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
         j.async = true;

         e.parentNode.insertBefore(j, e);
     })(document, 'script');
  	</script>
  <noscript> 为正常使用来必力评论功能请激活JavaScript</noscript>
  </div>
  <!-- City版安装代码已完成 -->


  </div>

  

  <script type="text/javascript">
  function loadScript(url, callback) {
    var script = document.createElement('script')
    script.type = 'text/javascript';

    if (script.readyState) { //IE
      script.onreadystatechange = function() {
        if (script.readyState == 'loaded' ||
          script.readyState == 'complete') {
          script.onreadystatechange = null;
          callback();
        }
      };
    } else { //Others
      script.onload = function() {
        callback();
      };
    }

    script.src = url;
    document.getElementsByTagName('head')[0].appendChild(script);
  }

  window.onload = function() {
    loadScript('/js/bundle.js?235683', function() {
      // load success
    });
  }
</script>

</body>
</html>
